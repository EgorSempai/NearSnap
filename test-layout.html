<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Layout - NearSap</title>
    <link rel="stylesheet" href="public/css/style.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ */
        .test-video {
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }
        
        .layout-controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.8);
            padding: 10px;
            border-radius: 10px;
            z-index: 1000;
        }
        
        .layout-controls button {
            margin: 5px;
            padding: 5px 10px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .layout-controls button.active {
            background: #28a745;
        }
    </style>
</head>
<body class="theme-default">
    <div class="layout-controls">
        <button onclick="setLayout(1)" id="btn-1" class="active">1 —É—á–∞—Å—Ç–Ω–∏–∫</button>
        <button onclick="setLayout(2)" id="btn-2">2 —É—á–∞—Å—Ç–Ω–∏–∫–∞</button>
        <button onclick="setLayout(4)" id="btn-4">4 —É—á–∞—Å—Ç–Ω–∏–∫–∞</button>
        <button onclick="setLayout(6)" id="btn-6">6 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</button>
    </div>

    <div id="videoScreen" class="screen active">
        <div class="header">
            <div class="room-info">
                <span>–ö–æ–º–Ω–∞—Ç–∞: TEST123</span>
                <span>üëë –í—ã —Ö–æ—Å—Ç</span>
            </div>
        </div>

        <div class="main-content">
            <div class="video-container">
                <div id="videoGrid" class="video-grid grid-view layout-1">
                    <!-- –õ–æ–∫–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ -->
                    <div class="video-wrapper local-video" id="localVideoWrapper">
                        <div class="test-video">üìπ –í–´</div>
                        <div class="video-overlay">
                            <span class="nickname">–í—ã</span>
                            <div class="video-controls">
                                <button class="control-btn">üé§</button>
                                <button class="control-btn">üìπ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="chat-container">
                    <div class="chat-header">
                        <h3>–ß–∞—Ç</h3>
                    </div>
                    <div class="chat-messages">
                        <div class="chat-message system">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∫–æ–º–Ω–∞—Ç—É!</div>
                    </div>
                </div>
                
                <div class="participants-container">
                    <div class="participants-header">
                        <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏</h3>
                        <span id="participantCount">1</span>
                    </div>
                    <div class="participants-list">
                        <div class="participant-item current-user">
                            <div class="participant-info">
                                <span class="participant-name">–í—ã üëë</span>
                                <div class="participant-status">
                                    <div class="status-icon mic-on">üé§</div>
                                    <div class="status-icon cam-on">üìπ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls-panel">
            <div class="controls-group">
                <button class="control-btn">
                    <span class="icon">üé§</span>
                    <span class="label">–ú–∏–∫—Ä–æ—Ñ–æ–Ω</span>
                </button>
                <button class="control-btn">
                    <span class="icon">üìπ</span>
                    <span class="label">–ö–∞–º–µ—Ä–∞</span>
                </button>
                <button class="control-btn">
                    <span class="icon">üñ•Ô∏è</span>
                    <span class="label">–≠–∫—Ä–∞–Ω</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        function setLayout(participantCount) {
            const videoGrid = document.getElementById('videoGrid');
            const participantCountSpan = document.getElementById('participantCount');
            
            // –£–±–∏—Ä–∞–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã –º–∞–∫–µ—Ç–∞
            videoGrid.classList.remove('layout-1', 'layout-2', 'layout-3-4', 'layout-5-6');
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.layout-controls button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ–≤—ã–π –º–∞–∫–µ—Ç
            if (participantCount === 1) {
                videoGrid.classList.add('layout-1');
                document.getElementById('btn-1').classList.add('active');
            } else if (participantCount === 2) {
                videoGrid.classList.add('layout-2');
                document.getElementById('btn-2').classList.add('active');
                addTestParticipants(1);
            } else if (participantCount <= 4) {
                videoGrid.classList.add('layout-3-4');
                document.getElementById('btn-4').classList.add('active');
                addTestParticipants(3);
            } else {
                videoGrid.classList.add('layout-5-6');
                document.getElementById('btn-6').classList.add('active');
                addTestParticipants(5);
            }
            
            participantCountSpan.textContent = participantCount;
        }
        
        function addTestParticipants(count) {
            const videoGrid = document.getElementById('videoGrid');
            
            // –£–¥–∞–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            document.querySelectorAll('.test-participant').forEach(el => el.remove());
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            for (let i = 1; i <= count; i++) {
                const participant = document.createElement('div');
                participant.className = 'video-wrapper test-participant';
                participant.innerHTML = `
                    <div class="test-video">üë§ –£—á–∞—Å—Ç–Ω–∏–∫ ${i}</div>
                    <div class="video-overlay">
                        <span class="nickname">–£—á–∞—Å—Ç–Ω–∏–∫ ${i}</span>
                        <div class="video-controls">
                            <button class="control-btn">üé§</button>
                            <button class="control-btn">üìπ</button>
                        </div>
                    </div>
                `;
                videoGrid.appendChild(participant);
            }
        }
        
        console.log('–¢–µ—Å—Ç –º–∞–∫–µ—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –º–∞–∫–µ—Ç–∞–º–∏.');
    </script>
</body>
</html>